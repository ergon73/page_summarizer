"""
–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.
"""

from agent import PageSummarizer

def test_minimal_content():
    """–¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º."""
    print("üß™ –¢–ï–°–¢ –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ì–û –ö–û–ù–¢–ï–ù–¢–ê")
    print("=" * 40)
    
    # –°–æ–∑–¥–∞–µ–º –∞–≥–µ–Ω—Ç–∞
    try:
        agent = PageSummarizer()
        print("‚úÖ –ê–≥–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: {e}")
        return
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ HTML —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
    test_cases = [
        {
            "name": "–û–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫",
            "html": """
            <html>
            <head><title>–¢–µ—Å—Ç</title></head>
            <body>
                <h1>–ö—É–ø–∏—Ç—å iPhone 15</h1>
            </body>
            </html>
            """
        },
        {
            "name": "–ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ",
            "html": """
            <html>
            <head><title>–í–∞–∫–∞–Ω—Å–∏—è</title></head>
            <body>
                <h1>–í–∞–∫–∞–Ω—Å–∏—è: Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</h1>
                <p>–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—ã—Ç–Ω—ã–π Python —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫.</p>
            </body>
            </html>
            """
        },
        {
            "name": "–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",
            "html": """
            <html>
            <head><title>–°–∞–π—Ç</title></head>
            <body>
                <main>
                    <h1>–°–∞–π—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h1>
                    <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç.</p>
                </main>
            </body>
            </html>
            """
        }
    ]
    
    for i, test_case in enumerate(test_cases, 1):
        print(f"\n{i}. –¢–µ—Å—Ç: {test_case['name']}")
        print("-" * 30)
        
        try:
            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç
            extracted_text = agent._extract_text(test_case['html'])
            print(f"üìù –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: {repr(extracted_text)}")
            print(f"üìè –î–ª–∏–Ω–∞: {len(extracted_text)} —Å–∏–º–≤–æ–ª–æ–≤")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ –ø—É—Å—Ç–æ–π
            if extracted_text.strip():
                print("‚úÖ –¢–µ–∫—Å—Ç —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω")
            else:
                print("‚ùå –¢–µ–∫—Å—Ç –Ω–µ –∏–∑–≤–ª–µ—á–µ–Ω")
                
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
    
    print("\nüéâ –¢–ï–°–¢ –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ì–û –ö–û–ù–¢–ï–ù–¢–ê –ó–ê–í–ï–†–®–ï–ù!")

if __name__ == "__main__":
    test_minimal_content() 